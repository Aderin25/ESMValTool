###############################################################################
# namelist_collins13ipcc.yml

---
documentation:
  description: | 
    Reproducing selected figures from IPCC AR5, chap. 12 (Collins et al., 2013)

  authors:
   - lore_ru

  references:
   - collins13ipcc

  projects:
    - crescendo

preprocessors:
  preprocessor_1:
    regrid: false
    mask_landocean: false
    multi_model_statistics: false

  preproc_time:
    regrid: false
    mask_landocean: false
    multi_model_statistics: false

  preproc_IAV:
    regrid:
      target_grid: 1x1
      scheme: linear
    mask_landocean: false
    multi_model_statistics: false

diagnostics:

  ###  Mean variable change in one RCP for individual models ###
  
  # tas_change_all_models:
  #   description: Air temperature change for RCP45 for all models as maps.
  #   themes:
  #     - phys
  #   realms:
  #     - atmos
  #   variables:
  #     tas:
  #       preprocessor: preprocessor_1
  #       mip: Amon
  #       field: T2Ms
  #   additional_models:
  #     - {model: ACCESS1-0,  project: CMIP5, exp: historical, ensemble: r1i1p1, start_year: 1986, end_year: 2005}
  #     - {model: ACCESS1-3,  project: CMIP5, exp: historical, ensemble: r1i1p1, start_year: 1986, end_year: 2005}
  #     - {model: GFDL-ESM2G, project: CMIP5, exp: historical, ensemble: r1i1p1, start_year: 1986, end_year: 2005}
  #     - {model: MPI-ESM-LR, project: CMIP5, exp: historical, ensemble: r1i1p1, start_year: 1986, end_year: 2005}

  #     - {model: ACCESS1-0,  project: CMIP5, exp: rcp45, ensemble: r1i1p1, start_year: 2081, end_year: 2100}
  #     - {model: ACCESS1-3,  project: CMIP5, exp: rcp45, ensemble: r1i1p1, start_year: 2081, end_year: 2100}
  #     - {model: GFDL-ESM2G, project: CMIP5, exp: rcp45, ensemble: r1i1p1, start_year: 2081, end_year: 2100}
  #     - {model: MPI-ESM-LR, project: CMIP5, exp: rcp45, ensemble: r1i1p1, start_year: 2081, end_year: 2100}

  #   scripts:
  #     ch12_map_diff_each_model_fig12-9: &settings
  #       script: ipcc_ar5/ch12_map_diff_each_model_fig12-9.ncl
  #       # Required attributes:
  #       projection: Robinson             # Map projection, any valid ncl projection
  #       styleset: CMIP5                  # Plot style
  #       time_avg: annualclim             # Time average ('opt' argument of time_operations.ncl)
  #       experiment: rcp45                # IPCC Scenario, used to pair historical and rcp runs from same model
  #       # Optional attributes:	
  #       max_vert: 9                      # Maximum number of plots in vertical
  #       max_hori: 5                      # Maximum number of plots in horizontal
  #       title: "Annual mean surface air temperature change (RCP4.5: 2081-2100)"
  #       ncdf: "_tas_each_model_1209.nc"  # Name of netcdf file written
  #       #colormap:                       # colormap to use if do not want default
  #       diff_levs: [-2., -1.5, -1., -0.5, 0, 0.5, 1, 1.5, 2, 3, 4, 5, 7, 9, 11] # Contour levels for plots

#   ts_line:
#     description: Prepare data for timeseries of multiple scenarios incl. spread
#     themes:
#       - phys
#     realms:
#       - atmos
#     variables:
#       tas:
#         preprocessor: preproc_time
#         mip: Amon
#         field: T2Ms
#     additional_models:
#       - {model: ACCESS1-0,    project: CMIP5, exp: historical, ensemble: r1i1p1, start_year: 1850, end_year: 2005}
#       - {model: ACCESS1-3,    project: CMIP5, exp: historical, ensemble: r1i1p1, start_year: 1850, end_year: 2005}
#       - {model: CCSM4,        project: CMIP5, exp: historical, ensemble: r1i1p1, start_year: 1850, end_year: 2005}
#       - {model: CESM1-CAM5,   project: CMIP5, exp: historical, ensemble: r1i1p1, start_year: 1850, end_year: 2005}
#       - {model: CSIRO-Mk3-6-0,project: CMIP5, exp: historical, ensemble: r1i1p1, start_year: 1850, end_year: 2005}
#       - {model: GFDL-ESM2G,   project: CMIP5, exp: historical, ensemble: r1i1p1, start_year: 1861, end_year: 2005}
#       - {model: IPSL-CM5A-LR, project: CMIP5, exp: historical, ensemble: r1i1p1, start_year: 1850, end_year: 2005}
#       - {model: MIROC5,       project: CMIP5, exp: historical, ensemble: r1i1p1, start_year: 1850, end_year: 2005}
#       - {model: MPI-ESM-LR,   project: CMIP5, exp: historical, ensemble: r1i1p1, start_year: 1850, end_year: 2005}

# #      - {model: CCSM4,        project: CMIP5, exp: rcp26,  ensemble: r1i1p1,  start_year: 2006,  end_year: 2300}
# #      - {model: CESM1-CAM5,   project: CMIP5, exp: rcp26,  ensemble: r1i1p1,  start_year: 2006,  end_year: 2300}
#       - {model: CSIRO-Mk3-6-0,project: CMIP5, exp: rcp26,  ensemble: r1i1p1,  start_year: 2006,  end_year: 2100}
#       - {model: GFDL-ESM2G,   project: CMIP5, exp: rcp26,  ensemble: r1i1p1,  start_year: 2006,  end_year: 2100}
#       - {model: IPSL-CM5A-LR, project: CMIP5, exp: rcp26,  ensemble: r1i1p1,  start_year: 2006,  end_year: 2300}
#       - {model: MIROC5,       project: CMIP5, exp: rcp26,  ensemble: r1i1p1,  start_year: 2006,  end_year: 2100}
#       - {model: MPI-ESM-LR,   project: CMIP5, exp: rcp26,  ensemble: r1i1p1,  start_year: 2006,  end_year: 2100}

#       - {model: ACCESS1-0,    project: CMIP5, exp: rcp45,  ensemble: r1i1p1,  start_year: 2006,  end_year: 2100}
#       - {model: ACCESS1-3,    project: CMIP5, exp: rcp45,  ensemble: r1i1p1,  start_year: 2006,  end_year: 2100}
# #      - {model: CCSM4,        project: CMIP5, exp: rcp45,  ensemble: r1i1p1,  start_year: 2006,  end_year: 2299}
#       - {model: GFDL-ESM2G,   project: CMIP5, exp: rcp45,  ensemble: r1i1p1,  start_year: 2006,  end_year: 2100}
#       - {model: IPSL-CM5A-LR, project: CMIP5, exp: rcp45,  ensemble: r1i1p1,  start_year: 2006,  end_year: 2300}
#       - {model: MIROC5,       project: CMIP5, exp: rcp45,  ensemble: r1i1p1,  start_year: 2006,  end_year: 2100}
#       - {model: MPI-ESM-LR,   project: CMIP5, exp: rcp45,  ensemble: r1i1p1,  start_year: 2006,  end_year: 2300}

# #      - {model: CCSM4,        project: CMIP5, exp: rcp60,  ensemble: r1i1p1,  start_year: 2006,  end_year: 2100}
# #      - {model: CESM1-CAM5,   project: CMIP5, exp: rcp60,  ensemble: r1i1p1,  start_year: 2006,  end_year: 2100}
#       - {model: CSIRO-Mk3-6-0,project: CMIP5, exp: rcp60,  ensemble: r1i1p1,  start_year: 2006,  end_year: 2100}   
#       - {model: GFDL-ESM2G,   project: CMIP5, exp: rcp60,  ensemble: r1i1p1,  start_year: 2006,  end_year: 2100}
#       - {model: IPSL-CM5A-LR, project: CMIP5, exp: rcp60,  ensemble: r1i1p1,  start_year: 2006,  end_year: 2100}
#       - {model: MIROC5,       project: CMIP5, exp: rcp60,  ensemble: r1i1p1,  start_year: 2006,  end_year: 2100}

#       - {model: ACCESS1-0,   project: CMIP5,  exp: rcp85,  ensemble: r1i1p1,  start_year: 2006,  end_year: 2100}
#       - {model: ACCESS1-3,   project: CMIP5,  exp: rcp85,  ensemble: r1i1p1,  start_year: 2006,  end_year: 2100}
# #      - {model: CCSM4,       project: CMIP5,  exp: rcp85,  ensemble: r1i1p1,  start_year: 2006,  end_year: 2300}
# #      - {model: CESM1-CAM5,  project: CMIP5,  exp: rcp85,  ensemble: r1i1p1,  start_year: 2006,  end_year: 2100}
#       - {model: GFDL-ESM2G,  project: CMIP5,  exp: rcp85,  ensemble: r1i1p1,  start_year: 2006,  end_year: 2100}
#       - {model: MIROC5,      project: CMIP5,  exp: rcp85,  ensemble: r1i1p1,  start_year: 2006,  end_year: 2100}
#       - {model: MPI-ESM-LR,  project: CMIP5,  exp: rcp85,  ensemble: r1i1p1,  start_year: 2006,  end_year: 2300}

#     scripts:
#       ch12_ts_line_mean_spread: &ts_settings
#         # Required attributes:
#         script: ipcc_ar5/ch12_ts_line_mean_spread.ncl
#         styleset: CMIP5
#         scenarios: [rcp26, rcp45, rcp60, rcp85]
#         syears: [1850, 2006, 2101]
#         eyears: [2005, 2100, 2300]
#         begin_ref_year: 1986
#         end_ref_year: 2005
#         label: [Historical, RCP2.6, RCP4.5, RCP6.0, RCP8.5]
#         # Optional attributes:
#         title: "Global surface temperature change (~S~o~N~ C)"
#         yaxis: "(~S~o~N~ C)"
#         ymin: -2
#         ymax: 12
#         model_nr: False
#         colormap: ipcc_color_tseries.rgb

#       ch12_plot_ts_line_mean_spread:
#         <<: *ts_settings
#         script: ipcc_ar5/ch12_plot_ts_line_mean_spread.ncl  # overwrites scriptname from ts_settings
#         ancestors: ['ch12_ts_line_mean_spread']

  IAV_calc_tas:
    description: Calculate temperature IAV for stippling significance
    themes:
      - varmodes
    realms:
      - atmos
    variables:
      tas:
        preprocessor: preproc_IAV_seas
        mip: Amon
        field: T2Ms
    additional_models:
      #- {model: ACCESS1-0,        project: CMIP5, exp: piControl, ensemble: r1i1p1, start_year: 300,  end_year: 799}
      #- {model: ACCESS1-3,        project: CMIP5, exp: piControl, ensemble: r1i1p1, start_year: 250,  end_year: 749}
      - {model: bcc-csm1-1,       project: CMIP5, exp: piControl, ensemble: r1i1p1, start_year: 1,    end_year: 500}
      - {model: bcc-csm1-1-m,     project: CMIP5, exp: piControl, ensemble: r1i1p1, start_year: 1,    end_year: 400}
      - {model: BNU-ESM,          project: CMIP5, exp: piControl, ensemble: r1i1p1, start_year: 1450, end_year: 2008}
      - {model: CanESM2,          project: CMIP5, exp: piControl, ensemble: r1i1p1, start_year: 2015, end_year: 3010}

    scripts:
      IAV_calc: &IAV_settings
        script: ipcc_ar5/ch12_calc_IAV_for_stipp_and_hatch.ncl
        # Required attributes:
        styleset: CMIP5
        time_avg: seasonalclim    # Time average ('opt' argument of time_operations.ncl), if seasonalclim seasons needed
        seasons: [0, 1, 2, 3]
        # Optional attributes:
        periodlength: 20.
        
  IAV_calc_hurs:
    description: Calculate humidity IAV for stippling significance
    themes:
      - varmodes
    realms:
      - atmos
    variables:
      hurs:
        preprocessor: preproc_IAV
        mip: Amon
        field: T2Ms
    additional_models:
      - {model: ACCESS1-0,        project: CMIP5, exp: piControl, ensemble: r1i1p1, start_year: 300,  end_year: 799}
      - {model: ACCESS1-3,        project: CMIP5, exp: piControl, ensemble: r1i1p1, start_year: 250,  end_year: 749}
      - {model: bcc-csm1-1,       project: CMIP5, exp: piControl, ensemble: r1i1p1, start_year: 1,    end_year: 500}
      - {model: bcc-csm1-1-m,     project: CMIP5, exp: piControl, ensemble: r1i1p1, start_year: 1,    end_year: 400}
      - {model: BNU-ESM,          project: CMIP5, exp: piControl, ensemble: r1i1p1, start_year: 1450, end_year: 2008}
      - {model: CanESM2,          project: CMIP5, exp: piControl, ensemble: r1i1p1, start_year: 2015, end_year: 3010}

    scripts:
      IAV_calc_hurs: &IAV_settings_hurs
        script: ipcc_ar5/ch12_calc_IAV_for_stipp_and_hatch.ncl
        # Required attributes:
        styleset: CMIP5
        time_avg: seasonalclim    # Time average ('opt' argument of time_operations.ncl), if seasonalclim seasons needed
        seasons: [0, 1, 2, 3]
        # Optional attributes:
        periodlength: 20.
      